//Add dependencies
const safeEval = require('safe-eval');
const express = require('express'),
      child_process = require('child_process');

//Creates app
const app = express();
app.use(express.urlencoded({extended : true}));

//Sends form to client
app.get('/', (req, res) => {
  res.sendFile('index.html', {root: __dirname})
})

//Handles form submissions
app.post('/', (req, res) => {
  let birthYear = safeEval(req.body.birthYear)

  res.end("You are " + (2019 - birthYear) + " years old.")
});

//Starts app
app.listen(process.env.port || 8080);
