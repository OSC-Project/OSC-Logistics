//Add dependencies
const express = require('express'),
      child_process = require('child_process');

//Creates app
const app = express();
app.use(express.urlencoded({extended : true}));

//Sends form to client
app.get('/', (req, res) => {
  res.sendFile('index.html', {root: __dirname})
})

//Handles form submissions
app.post('/', (req, res) => {
  let filePath = req.body.filePath

  let out = child_process.execSync('cat ' + filePath);
  res.write(out);
  res.end()
});

//Starts app
app.listen(process.env.port || 8080);
