var express = require('express');
var child_process = require('child_process');
var execer = require('child_process').exec;
var app = express();
app.use(express.urlencoded({extended : true}));

const port = 3000;

app.get('/1', function (req, res) {
  child_process.exec(
    'ls ' + req.query.file_path,
    function (err, data) {
      console.log('err: ', err)
      console.log('data: ', data);
    });
  res.send('Hello World!')
})

app.get('/2', function (req, res) {
  res.send(child_process.execSync('ls ' + req.query.file_path).toString();
})

app.get('/3', function (req, res) {
  require('child_process').exec(
    'ls ' + req.query.file_path,
    function (err, data) {
      console.log('err: ', err)
      console.log('data: ', data);
    });
  res.send('Hello World!')
})

app.listen(port, () => console.log(`Example app listening on port ${port}!`))
